#:import Window kivy.core.window.Window


<AddValuePopup>
    cols:1
    title: 'Add custom ' + root.value_name
    size_hint: None, None
    size: Window.width / 2.5, Window.height / 2.5
    GridLayout:
        cols: 1
        BoxLayout:
            orientation: 'horizontal'
            size_hint_x: 1
            size_hint_y: None
            height: root.height / 4
            cols: 2
            Label:
                size_hint_x: 1
                size_hint_y: None
                height: 30
                pos_hint: {'x': 0, 'y': 0.1}
                canvas.before:
                    Color:
                        rgba: 0.01, 0.01, 0.13, 1
                    Rectangle:
                        pos: self.right - 0.5, self.y
                        size: 0.3, self.height / 3
                text: root.value_name + ' :'
            TextInput:
                size_hint_x: 1
                size_hint_y: None
                id:text_input
                height: 30
                pos_hint: {'x': 0, 'y': 0.1}
                canvas.before:
                    Color:
                        rgba: 0.01, 0.01, 0.13, 1
                    Rectangle:
                        pos: self.right - 0.5, self.y
                        size: 0.3, self.height / 3
                text: ''
                multiline: False
                on_text: root.on_text_change()
                on_double_tap: root.open_key_board()


        BoxLayout:
            cols: 1
            orientation: 'horizontal'
            size_hint_x: 1
            size_hint_y: None
            height: root.height / 4
            pos_hint: {'x': 0, 'y': 0.3}
            Button:
                id: ok
                text: 'OK'
                disabled: True
                on_press:
                    root.submit_value();
                    root.dismiss();
            Button:
                id: cancel
                text: 'Cancel'
                disabled: False
                on_press:
                    root.dismiss();
                    root.refresh_main_layout();